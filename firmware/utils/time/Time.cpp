// *****************************************************************************
//
// Project: Utilities.
//
// Module: Time class.
//
// *****************************************************************************

//! \file
//! \brief Class used for representation of time.
//! \ingroup utils

// *****************************************************************************
//
//        Copyright (c) 2015-2022, Martin Garon, All rights reserved.
//
// *****************************************************************************

// *****************************************************************************
//                              INCLUDE FILES
// *****************************************************************************

#include <stdio.h>

#include "Time.h"

// *****************************************************************************
//                      DEFINED CONSTANTS AND MACROS
// *****************************************************************************

// *****************************************************************************
//                         TYPEDEFS AND STRUCTURES
// *****************************************************************************

// *****************************************************************************
//                            FUNCTION PROTOTYPES
// *****************************************************************************

// *****************************************************************************
//                             GLOBAL VARIABLES
// *****************************************************************************

// *****************************************************************************
//                            EXPORTED FUNCTIONS
// *****************************************************************************

std::string Time::ToStr(void) const {

    static constexpr std::string_view lFormatStr{"%02d:%02d"};
    static constexpr std::string_view lFormatPMStr{"%02d:%02d PM"};
    static constexpr std::string_view lFormatAMStr{"%02d:%02d AM"};

    char lStr[16]{'\0'};
    if (Is24H()) {
        snprintf(
            &lStr[0],
            lFormatStr.size(),
            lFormatStr.data(),
            GetHours(),
            GetMinutes()
        );
    } else if (IsPM()) {
        snprintf(
            &lStr[0],
            lFormatPMStr.size(),
            lFormatPMStr.data(),
            GetHours(),
            GetMinutes()
        );
    } else {
        snprintf(
            &lStr[0],
            lFormatAMStr.size(),
            lFormatAMStr.data(),
            GetHours(),
            GetMinutes()
        );
    }

    return std::string(lStr);
}

// *****************************************************************************
//                              LOCAL FUNCTIONS
// *****************************************************************************

// *****************************************************************************
//                                END OF FILE
// *****************************************************************************
